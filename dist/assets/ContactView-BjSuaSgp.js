import{r as u,c as m,d as w,b as r,n as y,t as h,i as x,j as V,k as v,v as c,F as k,o as f}from"./index-UDvrcfkF.js";import{_}from"./HeadSection-BzBDsMiA.js";const z={class:"w-full my-10"},C={class:"w-full mb-3"},j={class:"w-full mb-3"},F={class:"w-full mb-3"},B={__name:"ContactView",setup(M){const i=u(""),a=u(""),d=u(""),s=u(!1),t=u(""),o=u(""),p=()=>{i.value="",a.value="",d.value=""},b=()=>{let l=!0;return i.value||(s.value=!0,t.value="Veuillez renseigner votre nom.",o.value="error",l=!1),a.value?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value)||(s.value=!0,t.value="Veuillez entrer une adresse email valide.",o.value="error",l=!1):(s.value=!0,t.value="Veuillez renseigner votre adresse email.",o.value="error",l=!1),d.value||(s.value=!0,t.value="Veuillez renseigner votre message.",o.value="error",l=!1),l},g=async()=>{if(b())try{if(!(await fetch("https://mpiadev.pythonanywhere.com/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.value,email:a.value,message:d.value})})).ok)throw s.value=!0,o.value="error",new Error("Une erreur s'est produite lors de l'envoi du message.");s.value=!0,t.value="Message envoyé avec succès.",o.value="success",p()}catch{s.value=!0,t.value="Une erreur s'est produite lors de l'envoi du message.",o.value="error"}};return(l,e)=>(f(),m(k,null,[w(_,{title:"Me contacter",note:"Des questions? Laissez-moi un message via ce formulaire et je reviendrai vers vous le plus bref delai."}),r("section",z,[s.value?(f(),m("div",{key:0,class:y(["relative flex items-center justify-between p-3 rounded mb-6 border border-solid",{"border-green-200 bg-green-50 text-green-900":o.value==="success","border-red-200 bg-red-50 text-red-900":o.value==="error"}])},[r("strong",null,h(t.value),1),(f(),m("svg",{onClick:e[0]||(e[0]=n=>s.value=!1),class:"cursor-pointer",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e[4]||(e[4]=[r("path",{d:"M18 6 6 18"},null,-1),r("path",{d:"m6 6 12 12"},null,-1)])))],2)):x("",!0),r("form",{onSubmit:V(g,["prevent"])},[r("div",C,[e[5]||(e[5]=r("label",{for:"name",class:"block font-medium uppercase mb-1.5"},"Votre nom",-1)),v(r("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>i.value=n),type:"text",name:"name",id:"name",class:"w-full min-h-12 outline-none border border-solid border-[#d5e3ec] rounded p-3 focus:border-cyan-600 focus:shadow-[0_0_0_3px_#4869ee3f]",required:""},null,512),[[c,i.value]])]),r("div",j,[e[6]||(e[6]=r("label",{for:"email",class:"block font-medium uppercase mb-1.5"},"Votre adresse email",-1)),v(r("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>a.value=n),type:"email",name:"email",id:"email",class:"w-full min-h-12 outline-none border border-solid border-[#d5e3ec] rounded p-3 focus:border-cyan-600 focus:shadow-[0_0_0_3px_#4869ee3f]",required:""},null,512),[[c,a.value]])]),r("div",F,[e[7]||(e[7]=r("label",{for:"message",class:"block font-medium uppercase mb-1.5"},"Votre message",-1)),v(r("textarea",{"onUpdate:modelValue":e[3]||(e[3]=n=>d.value=n),name:"message",id:"message",class:"w-full min-h-12 h-52 resize-none outline-none border border-solid border-[#d5e3ec] rounded p-3 focus:border-cyan-600 focus:shadow-[0_0_0_3px_#4869ee3f]",required:""},null,512),[[c,d.value]])]),e[8]||(e[8]=r("button",{type:"submit",class:"bg-cyan-600 text-white font-medium py-2 px-3 rounded shadow-sm cursor-pointer hover:filter hover:brightness-110"},"Envoyer",-1))],32)])],64))}};export{B as default};
